package main;

import processing.core.PApplet;
import processing.core.PVector;

public class Logica implements Runnable {

	PApplet app;
	Background fondo;
	Mano mano1;
	Mano mano2;
	int timer;

	public Logica(PApplet app) {

		this.app = app;
		this.fondo = new Background(app, 3);
		this.mano1 = new Mano(app, 0);
		this.mano2 = new Mano(app, 1);
		this.timer = 15;

	}

	public void pintar() {

		app.background(255);
		fondo.pintar();
		mano1.pintar();
		mano2.pintar();
		
		this.checarColision(mano1, mano2);

	}
	
	

	public void presionado() {
	
		if (app.keyCode == 37) {
			mano1.avanzarDesgraciado();

		}
		if (app.keyCode == 39) {
			mano2.avanzarDesgraciado();
		}

		if (app.keyCode == 10) {
	
			mano1.recibirMov(mano2.getMov());

		}
		
		
	}

	@Override
	public void run() {
		for (int i = 0; i < 15; i++) {
			this.timer--;
		

		try {
			Thread.sleep(1000);
		} catch (InterruptedException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		}

	}
	
	public void checarColision(Mano a, Mano b) {
		PVector aa = a.getPos();
		PVector bb = b.getPos();
		
		if(PApplet.dist(aa.x, aa.y, bb.x, bb.y) < 45) {
			System.out.println("gg");
		}
		
	}

}
}
